@model GestionContacts2.WebUi.Models.DetailsContactViewModel
@{
    ViewBag.Title = "Détails du contact";
}

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">

<style>
    :root {
        --green: #22c55e;
        --dark: #0d1117;
        --white: #ffffff;
        --gray: #9ca3af;
        --border: #e5e7eb;
    }

    .dc-wrapper {
        min-height: 100vh;
        display: flex;
        align-items: stretch;
        justify-content: center;
        padding: 0;
    }

    .dc-card {
        display: grid;
        grid-template-columns: 0.75fr 1.25fr;
        width: 100%;
        animation: dcFadeUp 0.6s ease both;
    }

    @@keyframes dcFadeUp {
        from {
            opacity: 0;
            transform: translateY(24px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* ── PANNEAU GAUCHE ── */
    .dc-left {
        position: relative;
        background: var(--dark);
        padding: 3rem 2rem;
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 1.5rem;
        overflow: hidden;
    }

    .dc-building {
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, #0d1117 0%, #1a2332 40%, #0d1117 100%);
    }

        .dc-building::before {
            content: '';
            position: absolute;
            top: -10%;
            left: -20%;
            width: 140%;
            height: 80%;
            background: repeating-linear-gradient( -15deg, transparent 0px, transparent 28px, rgba(255,255,255,0.03) 28px, rgba(255,255,255,0.03) 30px );
            transform: skewY(-5deg);
        }

        .dc-building::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, rgba(13,17,23,0.2) 0%, rgba(13,17,23,0.75) 100%);
        }

    .dc-avatar {
        position: relative;
        z-index: 2;
        width: 72px;
        height: 72px;
        border-radius: 50%;
        background: rgba(34,197,94,0.15);
        border: 1.5px solid rgba(34,197,94,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .dc-avatar-initials {
        font-family: 'Cormorant Garamond', serif;
        font-size: 1.6rem;
        font-weight: 600;
        color: var(--green);
    }

    .dc-left-name {
        position: relative;
        z-index: 2;
        font-family: 'Cormorant Garamond', serif;
        font-size: 1.8rem;
        font-weight: 600;
        color: var(--white);
        line-height: 1.2;
        margin: 0;
    }

    .dc-left-company {
        position: relative;
        z-index: 2;
        font-family: 'DM Sans', sans-serif;
        font-size: 0.78rem;
        color: var(--green);
        letter-spacing: 0.06em;
        text-transform: uppercase;
    }

    .dc-divider {
        position: relative;
        z-index: 2;
        height: 1px;
        background: rgba(255,255,255,0.08);
    }

    .dc-left-meta {
        position: relative;
        z-index: 2;
        display: flex;
        flex-direction: column;
        gap: 0.6rem;
    }

    .dc-meta-item {
        display: flex;
        align-items: center;
        gap: 0.6rem;
    }

    .dc-meta-icon {
        width: 16px;
        height: 16px;
        color: var(--gray);
        flex-shrink: 0;
    }

    .dc-meta-text {
        font-family: 'DM Sans', sans-serif;
        font-size: 0.78rem;
        color: var(--gray);
    }

    .dc-back {
        position: relative;
        z-index: 2;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        font-family: 'DM Sans', sans-serif;
        font-size: 0.72rem;
        font-weight: 500;
        letter-spacing: 0.07em;
        text-transform: uppercase;
        color: var(--gray);
        text-decoration: none;
        margin-top: auto;
        transition: color 0.2s;
    }

        .dc-back:hover {
            color: var(--green);
        }

    /* ── PANNEAU DROIT ── */
    .dc-right {
        background: var(--white);
        padding: 3rem 2.8rem;
    }

        .dc-right h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.9rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.3rem;
        }

    .dc-right-sub {
        font-family: 'DM Sans', sans-serif;
        font-size: 0.72rem;
        color: var(--gray);
        letter-spacing: 0.08em;
        text-transform: uppercase;
        margin-bottom: 2rem;
    }

    /* ── CHAMPS ── */
    .dc-section-label {
        font-family: 'DM Sans', sans-serif;
        font-size: 0.65rem;
        font-weight: 500;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        color: var(--gray);
        margin-bottom: 0.8rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid var(--border);
    }

    .dc-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0 1.5rem;
        margin-bottom: 1.5rem;
    }

    .dc-field {
        padding: 0.8rem 0;
        border-bottom: 1px solid var(--border);
    }

    .dc-field-label {
        font-family: 'DM Sans', sans-serif;
        font-size: 0.65rem;
        font-weight: 500;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--gray);
        margin-bottom: 0.25rem;
    }

    .dc-field-value {
        font-family: 'DM Sans', sans-serif;
        font-size: 0.88rem;
        color: #111827;
    }

        .dc-field-value.empty {
            color: #d1d5db;
            font-style: italic;
        }

    .dc-field-full {
        grid-column: 1 / -1;
    }

    /* ── ACTIONS ── */
    .dc-actions {
        display: flex;
        gap: 0.75rem;
        margin-top: 2rem;
        flex-wrap: wrap;
    }

    .dc-btn-edit {
        background: var(--green);
        color: white;
        border: none;
        padding: 0.7rem 1.8rem;
        font-family: 'DM Sans', sans-serif;
        font-size: 0.75rem;
        font-weight: 500;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        border-radius: 2px;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        transition: background 0.2s, transform 0.15s;
    }

        .dc-btn-edit:hover {
            background: #16a34a;
            color: white;
            transform: translateY(-1px);
        }

    .dc-btn-delete {
        background: transparent;
        color: #dc2626;
        border: 1px solid #fca5a5;
        padding: 0.7rem 1.8rem;
        font-family: 'DM Sans', sans-serif;
        font-size: 0.75rem;
        font-weight: 500;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        border-radius: 2px;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        transition: background 0.2s, border-color 0.2s;
    }

        .dc-btn-delete:hover {
            background: #fef2f2;
            border-color: #ef4444;
            color: #dc2626;
        }

    @@media (max-width: 700px) {
        .dc-card {
            grid-template-columns: 1fr;
        }

        .dc-left {
            min-height: 220px;
            padding: 2rem;
        }

        .dc-grid {
            grid-template-columns: 1fr;
        }

        .dc-right {
            padding: 2rem 1.5rem;
        }
    }
</style>

<main class="dc-wrapper" aria-labelledby="dc-title">
    <div class="dc-card">

        <!-- PANNEAU GAUCHE -->
        <div class="dc-left">
            <div class="dc-building"></div>

            <div class="dc-avatar">
                <span class="dc-avatar-initials">
                    @(Model.Nom.Length > 0 ? Model.Nom[0].ToString().ToUpper() : "")@(Model.Prenom.Length > 0 ? Model.Prenom[0].ToString().ToUpper() : "")
                </span>
            </div>

            <div>
                <p class="dc-left-name">@Model.Prenom<br>@Model.Nom</p>
                @if (!string.IsNullOrEmpty(Model.Entreprise))
                {
                    <p class="dc-left-company">@Model.Entreprise</p>
                }
            </div>

            <div class="dc-divider"></div>

            <div class="dc-left-meta">
                @if (!string.IsNullOrEmpty(Model.Email))
                {
                    <div class="dc-meta-item">
                        <svg class="dc-meta-icon" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        <span class="dc-meta-text">@Model.Email</span>
                    </div>
                }
                @if (!string.IsNullOrEmpty(Model.NumeroTel))
                {
                    <div class="dc-meta-item">
                        <svg class="dc-meta-icon" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498A1 1 0 0121 15.72V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                        </svg>
                        <span class="dc-meta-text">@Model.NumeroTel</span>
                    </div>
                }
                @if (!string.IsNullOrEmpty(Model.Adresse))
                {
                    <div class="dc-meta-item">
                        <svg class="dc-meta-icon" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a2 2 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <span class="dc-meta-text">@Model.Adresse</span>
                    </div>
                }
            </div>

            <a href="@Url.Action("MesContacts", "Contact")" class="dc-back">
                <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
                </svg>
                Retour à la liste
            </a>
        </div>

        <!-- PANNEAU DROIT -->
        <div class="dc-right">
            <h2 id="dc-title">@Model.Prenom @Model.Nom</h2>
            <p class="dc-right-sub">Fiche de contact</p>

            <p class="dc-section-label">Coordonnées</p>
            <div class="dc-grid">
                <div class="dc-field">
                    <p class="dc-field-label">Email</p>
                    <p class="dc-field-value @(string.IsNullOrEmpty(Model.Email) ? "empty" : "")">
                        @(string.IsNullOrEmpty(Model.Email) ? "Non renseigné" : Model.Email)
                    </p>
                </div>
                <div class="dc-field">
                    <p class="dc-field-label">Téléphone</p>
                    <p class="dc-field-value @(string.IsNullOrEmpty(Model.NumeroTel) ? "empty" : "")">
                        @(string.IsNullOrEmpty(Model.NumeroTel) ? "Non renseigné" : Model.NumeroTel)
                    </p>
                </div>
                <div class="dc-field dc-field-full">
                    <p class="dc-field-label">Adresse</p>
                    <p class="dc-field-value @(string.IsNullOrEmpty(Model.Adresse) ? "empty" : "")">
                        @(string.IsNullOrEmpty(Model.Adresse) ? "Non renseignée" : Model.Adresse)
                    </p>
                </div>
            </div>

            <p class="dc-section-label">Informations professionnelles</p>
            <div class="dc-grid">
                <div class="dc-field dc-field-full">
                    <p class="dc-field-label">Entreprise</p>
                    <p class="dc-field-value @(string.IsNullOrEmpty(Model.Entreprise) ? "empty" : "")">
                        @(string.IsNullOrEmpty(Model.Entreprise) ? "Non renseignée" : Model.Entreprise)
                    </p>
                </div>
                <div class="dc-field dc-field-full">
                    <p class="dc-field-label">Notes personnelles</p>
                    <p class="dc-field-value @(string.IsNullOrEmpty(Model.NotesPersonnelles) ? "empty" : "")">
                        @(string.IsNullOrEmpty(Model.NotesPersonnelles) ? "Aucune note" : Model.NotesPersonnelles)
                    </p>
                </div>
            </div>

            <p class="dc-section-label">Historique</p>
            <div class="dc-grid">
                <div class="dc-field">
                    <p class="dc-field-label">Date de création</p>
                    <p class="dc-field-value">@Model.DateCreation.ToString("dd MMM yyyy, HH:mm")</p>
                </div>
                <div class="dc-field">
                    <p class="dc-field-label">Dernière modification</p>
                    <p class="dc-field-value @(!Model.DateModification.HasValue ? "empty" : "")">
                        @(Model.DateModification.HasValue ? Model.DateModification.Value.ToString("dd MMM yyyy, HH:mm") : "Jamais modifié")
                    </p>
                </div>
            </div>

            <div class="dc-actions">
                <a href="@Url.Action("MesContacts", "Contact")" class="dc-back" style="position:relative; z-index:2; display:inline-flex; align-items:center; gap:0.4rem; font-family:'DM Sans',sans-serif; font-size:0.72rem; font-weight:500; letter-spacing:0.07em; text-transform:uppercase; color:#6b7280; text-decoration:none; margin-top:2rem; transition:color 0.2s;">
                    <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
                    </svg>
                    Retour à la liste
                </a>
            </div>
        </div>

    </div>
</main>
